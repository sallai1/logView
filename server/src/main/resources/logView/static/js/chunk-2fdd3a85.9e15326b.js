(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fdd3a85"],{"27d7":function(e,t,l){"use strict";l("e86f")},9406:function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"dashboard-container"},[l("div",[l("div",{staticClass:"dashboard-text"},[l("div",{staticStyle:{"font-size":"20px"}},[l("label",{staticStyle:{color:"#4c4c4c"}},[e._v("日志文件名: ")]),e._v(" "),l("label",[e._v(e._s(e.logInfo.name))]),l("label",{staticStyle:{color:"#4c4c4c","margin-left":"10px"}},[e._v("大小: ")]),e._v(" "),l("label",[e._v(e._s(e.logInfo.size))])])]),l("el-input",{staticStyle:{display:"inline-block",width:"100px"},attrs:{type:"number",placeholder:"查询行数"},model:{value:e.queryNum,callback:function(t){e.queryNum=t},expression:"queryNum"}}),l("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryLog}},[e._v("获取日志")]),l("el-select",{staticStyle:{display:"inline-block",width:"fit-content","margin-left":"10px"},attrs:{placeholder:"Select Log Level"},on:{change:e.logLevelChange},model:{value:e.selectedLogLevel,callback:function(t){e.selectedLogLevel=t},expression:"selectedLogLevel"}},e._l(e.logLevels,(function(e){return l("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),l("div",[l("el-tabs",{staticClass:"logTab",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[l("el-tab-pane",{staticClass:"pane",attrs:{label:"日志信息",name:"info"}},[e.logInfo.content?l("pre",{domProps:{innerHTML:e._s(e.logInfo.content)}}):l("el-empty",{staticStyle:{height:"100%"},attrs:{description:"没有内容"}})],1)],1)],1)])},o=[],i=(l("d3b7"),l("caad"),l("2532"),l("a15b"),l("14d9"),l("b775"));function a(e){return Object(i["a"])({url:"/_api/logView/read/"+e,method:"get"})}var s=l("5c96"),c={name:"Dashboard",data:function(){return{activeTab:"info",queryNum:100,logInfo:{name:"",size:"",content:""},logLevels:["ALL","INFO","DEBUG","ERROR","WARN"],selectedLogLevel:"ALL",logArray:[]}},methods:{queryLog:function(){var e=this,t=s["Loading"].service({lock:!0,text:"加载中"});a(this.queryNum).then((function(t){e.logInfo=t.data,e.splitLog()})).finally((function(e){t.close()}))},splitLog:function(){this.logArray=this.logInfo.content.split("\n");for(var e=0;e<this.logArray.length;e++)this.logArray[e].includes("ERROR")&&(this.logArray[e]='<span style="color:red;">'+this.logArray[e]+"</span>");this.logInfo.content=this.logArray.join("\n")},filterLogByLevel:function(){},logLevelChange:function(){var e=this.selectedLogLevel,t=this.logArray,l=[],n=!1;if(e!=this.logLevels[0]){for(var o=0;o<t.length;o++){var i=t[o];i.includes(e)?(l.push(i),n=!0):i.includes(this.logLevels[1])||i.includes(this.logLevels[2])||i.includes(this.logLevels[3]||i.includes(this.logLevels[4]))?n=!1:n&&l.push(i)}this.logInfo.content=l.join("\n")}else this.logInfo.content=this.logArray.join("\n")}},mounted:function(){var e=this;a(100).then((function(t){e.logInfo=t.data,e.splitLog()}))},beforeDestroy:function(){},watch:{}},r=c,u=(l("27d7"),l("2877")),d=Object(u["a"])(r,n,o,!1,null,"78acdbf9",null);t["default"]=d.exports},a15b:function(e,t,l){"use strict";var n=l("23e7"),o=l("e330"),i=l("44ad"),a=l("fc6a"),s=l("a640"),c=o([].join),r=i!==Object,u=r||!s("join",",");n({target:"Array",proto:!0,forced:u},{join:function(e){return c(a(this),void 0===e?",":e)}})},e86f:function(e,t,l){}}]);